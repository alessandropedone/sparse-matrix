<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Spase Matrix: JSON_DIAGNOSTICS</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Spase Matrix<span id="projectnumber">&#160;v0.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">JSON_DIAGNOSTICS</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md1191"></a> </p><div class="fragment"><div class="line"><span class="preprocessor">#define JSON_DIAGNOSTICS </span><span class="comment">/* value */</span><span class="preprocessor"></span></div>
</div><!-- fragment --><p>This macro enables <a href="../../home/exceptions.md#extended-diagnostic-messages">extended diagnostics for exception messages</a>. Possible values are <code>1</code> to enable or <code>0</code> to disable (default).</p>
<p>When enabled, exception messages contain a <a class="el" href="md__2home_2ale_2sparse-matrix_2json_2docs_2mkdocs_2docs_2api_2json__pointer_2json__pointer.html">JSON Pointer</a> to the JSON value that triggered the exception. Note that enabling this macro increases the size of every JSON value by one pointer and adds some runtime overhead.</p>
<h1><a class="anchor" id="autotoc_md1192"></a>
Default definition</h1>
<p>The default value is <code>0</code> (extended diagnostics are switched off).</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define JSON_DIAGNOSTICS 0</span></div>
</div><!-- fragment --><p>When the macro is not defined, the library will define it to its default value.</p>
<h1><a class="anchor" id="autotoc_md1193"></a>
Notes</h1>
<p>!!! note "ABI compatibility" </p><pre class="fragment">As of version 3.11.0, this macro is no longer required to be defined consistently throughout a codebase to avoid
One Definition Rule (ODR) violations, as the value of this macro is encoded in the namespace, resulting in distinct
symbol names. 

This allows different parts of a codebase to use different versions or configurations of this library without
causing improper behavior.

Where possible, it is still recommended that all code define this the same way for maximum interoperability.
</pre><p> !!! hint "CMake option" </p><pre class="fragment">Diagnostic messages can also be controlled with the CMake option
[`JSON_Diagnostics`](../../integration/cmake.md#json_diagnostics) (`OFF` by default)
which defines `JSON_DIAGNOSTICS` accordingly.
</pre> <h1><a class="anchor" id="autotoc_md1194"></a>
Examples</h1>
<p>??? example "Example 1: default behavior" </p><pre class="fragment">```cpp
--8&lt;-- "examples/diagnostics_standard.cpp"
```

Output:

```
--8&lt;-- "examples/diagnostics_standard.output"
```

This exception can be hard to debug if storing the value `#!c "12"` and accessing it is further apart.
</pre><p> ??? example "Example 2: extended diagnostic messages" </p><pre class="fragment">```cpp
--8&lt;-- "examples/diagnostics_extended.cpp"
```

Output:

```
--8&lt;-- "examples/diagnostics_extended.output"
```

Now the exception message contains a JSON Pointer `/address/housenumber` that indicates which value has the wrong type.
</pre><p> ??? example "Example 3: using only diagnostic positions in exceptions" </p><pre class="fragment">```cpp
--8&lt;-- "examples/diagnostic_positions_exception.cpp"
```

Output:

```
--8&lt;-- "examples/diagnostic_positions_exception.output"
```    
    The output shows the exception with start/end positions only.
</pre> <h1><a class="anchor" id="autotoc_md1195"></a>
See also</h1>
<ul>
<li><a href="../../integration/cmake.md#json_diagnostics">:simple-cmake: JSON_Diagnostics</a> - CMake option to control the macro</li>
<li><a class="el" href="md__2home_2ale_2sparse-matrix_2json_2docs_2mkdocs_2docs_2api_2macros_2json__diagnostic__positions.html">JSON_DIAGNOSTIC_POSITIONS</a> - macro to access positions of elements</li>
</ul>
<h1><a class="anchor" id="autotoc_md1196"></a>
Version history</h1>
<ul>
<li>Added in version 3.10.0.</li>
<li>As of version 3.11.0, the definition is allowed to vary between translation units. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
