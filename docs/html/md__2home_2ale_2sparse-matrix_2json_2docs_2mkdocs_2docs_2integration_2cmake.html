<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Spase Matrix: CMake</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Spase Matrix<span id="projectnumber">&#160;v0.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">CMake</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md1798"></a> </p>
<h1><a class="anchor" id="autotoc_md1799"></a>
Integration</h1>
<p>You can use the <code>nlohmann_json::nlohmann_json</code> interface target in CMake. This target populates the appropriate usage requirements for <a href="https://cmake.org/cmake/help/latest/prop_tgt/INTERFACE_INCLUDE_DIRECTORIES.html"><code>INTERFACE_INCLUDE_DIRECTORIES</code></a> to point to the appropriate include directories and <a href="https://cmake.org/cmake/help/latest/prop_tgt/INTERFACE_COMPILE_FEATURES.html"><code>INTERFACE_COMPILE_FEATURES</code></a> for the necessary C++11 flags.</p>
<h2><a class="anchor" id="autotoc_md1800"></a>
External</h2>
<p>To use this library from a CMake project, you can locate it directly with <a href="https://cmake.org/cmake/help/latest/command/find_package.html"><code>find_package()</code></a> and use the namespaced imported target from the generated package configuration:</p>
<p>!!! example </p><pre class="fragment">```cmake title="CMakeLists.txt"
cmake_minimum_required(VERSION 3.5)
project(ExampleProject LANGUAGES CXX)

find_package(nlohmann_json 3.12.0 REQUIRED)

add_executable(example example.cpp)
target_link_libraries(example PRIVATE nlohmann_json::nlohmann_json)
```
</pre><p> The package configuration file, <code>nlohmann_jsonConfig.cmake</code>, can be used either from an install tree or directly out of the build tree.</p>
<h2><a class="anchor" id="autotoc_md1801"></a>
Embedded</h2>
<p>To embed the library directly into an existing CMake project, place the entire source tree in a subdirectory and call <code>add_subdirectory()</code> in your <code>CMakeLists.txt</code> file.</p>
<p>!!! example </p><pre class="fragment">```cmake title="CMakeLists.txt"
cmake_minimum_required(VERSION 3.5)
project(ExampleProject LANGUAGES CXX)

# If you only include this third party in PRIVATE source files, you do not need to install it
# when your main project gets installed.
set(JSON_Install OFF CACHE INTERNAL "")

add_subdirectory(nlohmann_json)

add_executable(example example.cpp)
target_link_libraries(example PRIVATE nlohmann_json::nlohmann_json)
```
</pre><p> !!! note </p><pre class="fragment">Do not use `#!cmake include(nlohmann_json/CMakeLists.txt)`, since that carries with it unintended consequences that
will break the build. It is generally discouraged (although not necessarily well documented as such) to use
`#!cmake include(...)` for pulling in other CMake projects anyways.
</pre><h2><a class="anchor" id="autotoc_md1802"></a>
Supporting Both</h2>
<p>To allow your project to support either an externally supplied or an embedded JSON library, you can use a pattern akin to the following.</p>
<p>!!! example </p><pre class="fragment">```cmake title="CMakeLists.txt"
project(ExampleProject LANGUAGES CXX)

option(EXAMPLE_USE_EXTERNAL_JSON "Use an external JSON library" OFF)

add_subdirectory(thirdparty)

add_executable(example example.cpp)

# Note that the namespaced target will always be available regardless of the import method
target_link_libraries(example PRIVATE nlohmann_json::nlohmann_json)
```

```cmake title="thirdparty/CMakeLists.txt"
if(EXAMPLE_USE_EXTERNAL_JSON)
    find_package(nlohmann_json 3.12.0 REQUIRED)
else()
    set(JSON_BuildTests OFF CACHE INTERNAL "")
    add_subdirectory(nlohmann_json)
endif()
```

`thirdparty/nlohmann_json` is then a complete copy of this source tree.
</pre><h2><a class="anchor" id="autotoc_md1803"></a>
FetchContent</h2>
<p>Since CMake v3.11, <a href="https://cmake.org/cmake/help/v3.11/module/FetchContent.html">FetchContent</a> can be used to automatically download a release as a dependency at configure time.</p>
<p>!!! example </p><pre class="fragment">```cmake title="CMakeLists.txt"
cmake_minimum_required(VERSION 3.11)
project(ExampleProject LANGUAGES CXX)

include(FetchContent)

FetchContent_Declare(json URL https://github.com/nlohmann/json/releases/download/v3.12.0/json.tar.xz)
FetchContent_MakeAvailable(json)

add_executable(example example.cpp)
target_link_libraries(example PRIVATE nlohmann_json::nlohmann_json)
```
</pre><p> !!! Note </p><pre class="fragment">It is recommended to use the URL approach described above which is supported as of version 3.10.0. It is also
possible to pass the Git repository like

```cmake
FetchContent_Declare(json
    GIT_REPOSITORY https://github.com/nlohmann/json
    GIT_TAG v3.12.0
)
```

However, the repository &lt;https://github.com/nlohmann/json&gt; download size is quite large.
</pre> <h1><a class="anchor" id="autotoc_md1804"></a>
CMake Options</h1>
<h2><a class="anchor" id="autotoc_md1805"></a>
&lt;tt&gt;JSON_BuildTests&lt;/tt&gt;</h2>
<p>Build the unit tests when <a href="https://cmake.org/cmake/help/latest/command/enable_testing.html"><code>BUILD_TESTING</code></a> is enabled. This option is <code>ON</code> by default if the library's CMake project is the top project. That is, when integrating the library as described above, the test suite is not built unless explicitly switched on with this option.</p>
<h2><a class="anchor" id="autotoc_md1806"></a>
&lt;tt&gt;JSON_CI&lt;/tt&gt;</h2>
<p>Enable CI build targets. The exact targets are used during the several CI steps and are subject to change without notice. This option is <code>OFF</code> by default.</p>
<h2><a class="anchor" id="autotoc_md1807"></a>
&lt;tt&gt;JSON_Diagnostics&lt;/tt&gt;</h2>
<p>Enable <a href="../home/exceptions.md#extended-diagnostic-messages">extended diagnostic messages</a> by defining macro <a class="el" href="md__2home_2ale_2sparse-matrix_2json_2docs_2mkdocs_2docs_2api_2macros_2json__diagnostics.html">`JSON_DIAGNOSTICS`</a>. This option is <code>OFF</code> by default.</p>
<h2><a class="anchor" id="autotoc_md1808"></a>
&lt;tt&gt;JSON_Diagnostic_Positions&lt;/tt&gt;</h2>
<p>Enable position diagnostics by defining macro <a class="el" href="md__2home_2ale_2sparse-matrix_2json_2docs_2mkdocs_2docs_2api_2macros_2json__diagnostic__positions.html">`JSON_DIAGNOSTIC_POSITIONS`</a>. This option is <code>OFF</code> by default.</p>
<h2><a class="anchor" id="autotoc_md1809"></a>
&lt;tt&gt;JSON_DisableEnumSerialization&lt;/tt&gt;</h2>
<p>Disable default <code>enum</code> serialization by defining the macro <a class="el" href="md__2home_2ale_2sparse-matrix_2json_2docs_2mkdocs_2docs_2api_2macros_2json__disable__enum__serialization.html">`JSON_DISABLE_ENUM_SERIALIZATION`</a>. This option is <code>OFF</code> by default.</p>
<h2><a class="anchor" id="autotoc_md1810"></a>
&lt;tt&gt;JSON_FastTests&lt;/tt&gt;</h2>
<p>Skip expensive/slow test suites. This option is <code>OFF</code> by default. Depends on <code>JSON_BuildTests</code>.</p>
<h2><a class="anchor" id="autotoc_md1811"></a>
&lt;tt&gt;JSON_GlobalUDLs&lt;/tt&gt;</h2>
<p>Place user-defined string literals in the global namespace by defining the macro <a class="el" href="md__2home_2ale_2sparse-matrix_2json_2docs_2mkdocs_2docs_2api_2macros_2json__use__global__udls.html">`JSON_USE_GLOBAL_UDLS`</a>. This option is <code>OFF</code> by default.</p>
<h2><a class="anchor" id="autotoc_md1812"></a>
&lt;tt&gt;JSON_ImplicitConversions&lt;/tt&gt;</h2>
<p>Enable implicit conversions by defining macro <a class="el" href="md__2home_2ale_2sparse-matrix_2json_2docs_2mkdocs_2docs_2api_2macros_2json__use__implicit__conversions.html">`JSON_USE_IMPLICIT_CONVERSIONS`</a>. This option is <code>ON</code> by default.</p>
<h2><a class="anchor" id="autotoc_md1813"></a>
&lt;tt&gt;JSON_Install&lt;/tt&gt;</h2>
<p>Install CMake targets during install step. This option is <code>ON</code> by default if the library's CMake project is the top project.</p>
<h2><a class="anchor" id="autotoc_md1814"></a>
&lt;tt&gt;JSON_LegacyDiscardedValueComparison&lt;/tt&gt;</h2>
<p>Enable the (incorrect) legacy comparison behavior of discarded JSON values by defining macro <a class="el" href="md__2home_2ale_2sparse-matrix_2json_2docs_2mkdocs_2docs_2api_2macros_2json__use__legacy__discarded__value__comparison.html">`JSON_USE_LEGACY_DISCARDED_VALUE_COMPARISON`</a>. This option is <code>OFF</code> by default.</p>
<h2><a class="anchor" id="autotoc_md1815"></a>
&lt;tt&gt;JSON_MultipleHeaders&lt;/tt&gt;</h2>
<p>Use the non-amalgamated version of the library. This option is <code>OFF</code> by default.</p>
<h2><a class="anchor" id="autotoc_md1816"></a>
&lt;tt&gt;JSON_SystemInclude&lt;/tt&gt;</h2>
<p>Treat the library headers like system headers (i.e., adding <code>SYSTEM</code> to the <a href="https://cmake.org/cmake/help/latest/command/target_include_directories.html"><code>target_include_directories</code></a> call) to check for this library by tools like Clang-Tidy. This option is <code>OFF</code> by default.</p>
<h2><a class="anchor" id="autotoc_md1817"></a>
&lt;tt&gt;JSON_Valgrind&lt;/tt&gt;</h2>
<p>Execute the test suite with <a href="https://valgrind.org">Valgrind</a>. This option is <code>OFF</code> by default. Depends on <code>JSON_BuildTests</code>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
