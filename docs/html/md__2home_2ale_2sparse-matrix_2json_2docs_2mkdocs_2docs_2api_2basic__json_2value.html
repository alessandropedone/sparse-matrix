<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Spase Matrix: &lt;small&gt;nlohmann::basic_json::&lt;/small&gt;value</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Spase Matrix<span id="projectnumber">&#160;v0.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">&lt;small&gt;nlohmann::basic_json::&lt;/small&gt;value</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md955"></a> </p><div class="fragment"><div class="line"><span class="comment">// (1)</span></div>
<div class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> ValueType&gt;</div>
<div class="line">ValueType value(<span class="keyword">const</span> <span class="keyword">typename</span> object_t::key_type&amp; key,</div>
<div class="line">                ValueType&amp;&amp; default_value) <span class="keyword">const</span>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// (2)</span></div>
<div class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> ValueType, <span class="keyword">class</span> KeyType&gt;</div>
<div class="line">ValueType value(KeyType&amp;&amp; key,</div>
<div class="line">                ValueType&amp;&amp; default_value) <span class="keyword">const</span>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// (3)</span></div>
<div class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> ValueType&gt;</div>
<div class="line">ValueType value(<span class="keyword">const</span> <a class="code hl_class" href="classjson__pointer.html">json_pointer</a>&amp; ptr,</div>
<div class="line">                <span class="keyword">const</span> ValueType&amp; default_value) <span class="keyword">const</span>;</div>
<div class="ttc" id="aclassjson__pointer_html"><div class="ttname"><a href="classjson__pointer.html">json_pointer</a></div><div class="ttdoc">JSON Pointer defines a string syntax for identifying a specific value within a JSON document.</div><div class="ttdef"><b>Definition</b> json_pointer.hpp:36</div></div>
</div><!-- fragment --><ol type="1">
<li><p class="startli">Returns either a copy of an object's element at the specified key <code>key</code> or a given default value if no element with key <code>key</code> exists.</p>
<p class="startli">The function is basically equivalent to executing </p><div class="fragment"><div class="line"><span class="keywordflow">try</span> {</div>
<div class="line">   <span class="keywordflow">return</span> at(key);</div>
<div class="line">} <span class="keywordflow">catch</span>(out_of_range) {</div>
<div class="line">   <span class="keywordflow">return</span> default_value;</div>
<div class="line">}</div>
</div><!-- fragment --></li>
<li>See 1. This overload is only available if <code>KeyType</code> is comparable with <code>#!cpp typename object_t::key_type</code> and <code>#!cpp typename object_comparator_t::is_transparent</code> denotes a type.</li>
<li><p class="startli">Returns either a copy of an object's element at the specified JSON pointer <code>ptr</code> or a given default value if no value at <code>ptr</code> exists.</p>
<p class="startli">The function is basically equivalent to executing </p><div class="fragment"><div class="line"><span class="keywordflow">try</span> {</div>
<div class="line">   <span class="keywordflow">return</span> at(ptr);</div>
<div class="line">} <span class="keywordflow">catch</span>(out_of_range) {</div>
<div class="line">   <span class="keywordflow">return</span> default_value;</div>
<div class="line">}</div>
</div><!-- fragment --></li>
</ol>
<p>!!! note "Differences to `at` and `operator[]`" </p><pre class="fragment">- Unlike [`at`](at.md), this function does not throw if the given `key`/`ptr` was not found.
- Unlike [`operator[]`](operator[].md), this function does not implicitly add an element to the position defined by
 `key`/`ptr` key. This function is furthermore also applicable to const objects.
</pre> <h1><a class="anchor" id="autotoc_md956"></a>
Template parameters</h1>
<p><code>KeyType</code> : <a class="el" href="classA.html">A</a> type for an object key other than <a class="el" href="md__2home_2ale_2sparse-matrix_2json_2docs_2mkdocs_2docs_2api_2json__pointer_2index.html">`json_pointer`</a> that is comparable with <a class="el" href="md__2home_2ale_2sparse-matrix_2json_2docs_2mkdocs_2docs_2api_2basic__json_2string__t.html">`string_t`</a> using <a class="el" href="md__2home_2ale_2sparse-matrix_2json_2docs_2mkdocs_2docs_2api_2basic__json_2object__comparator__t.html">`object_comparator_t`</a>. This can also be a string view (C++17). <code>ValueType</code> : type compatible to JSON values, for instance <code>#!cpp int</code> for JSON integer numbers, <code>#!cpp bool</code> for JSON booleans, or <code>#!cpp std::vector</code> types for JSON arrays. Note the type of the expected value at <code>key</code>/<code>ptr</code> and the default value <code>default_value</code> must be compatible.</p>
<h1><a class="anchor" id="autotoc_md957"></a>
Parameters</h1>
<p><code>key</code> (in) : key of the element to access</p>
<p><code>default_value</code> (in) : the value to return if <code>key</code>/<code>ptr</code> found no value</p>
<p><code>ptr</code> (in) : a JSON pointer to the element to access</p>
<h1><a class="anchor" id="autotoc_md958"></a>
Return value</h1>
<ol type="1">
<li>copy of the element at key <code>key</code> or <code>default_value</code> if <code>key</code> is not found</li>
<li>copy of the element at key <code>key</code> or <code>default_value</code> if <code>key</code> is not found</li>
<li>copy of the element at JSON Pointer <code>ptr</code> or <code>default_value</code> if no value for <code>ptr</code> is found</li>
</ol>
<h1><a class="anchor" id="autotoc_md959"></a>
Exception safety</h1>
<p>Strong guarantee: if an exception is thrown, there are no changes to any JSON value.</p>
<h1><a class="anchor" id="autotoc_md960"></a>
Exceptions</h1>
<ol type="1">
<li>The function can throw the following exceptions:<ul>
<li>Throws <a href="../../home/exceptions.md#jsonexceptiontype_error302"><code>type_error.302</code></a> if <code>default_value</code> does not match the type of the value at <code>key</code></li>
<li>Throws <a href="../../home/exceptions.md#jsonexceptiontype_error306"><code>type_error.306</code></a> if the JSON value is not an object; in that case, using <code>value()</code> with a key makes no sense.</li>
</ul>
</li>
<li>See 1.</li>
<li>The function can throw the following exceptions:<ul>
<li>Throws <a href="../../home/exceptions.md#jsonexceptiontype_error302"><code>type_error.302</code></a> if <code>default_value</code> does not match the type of the value at <code>ptr</code></li>
<li>Throws <a href="../../home/exceptions.md#jsonexceptiontype_error306"><code>type_error.306</code></a> if the JSON value is not an object; in that case, using <code>value()</code> with a key makes no sense.</li>
</ul>
</li>
</ol>
<h1><a class="anchor" id="autotoc_md961"></a>
Complexity</h1>
<ol type="1">
<li>Logarithmic in the size of the container.</li>
<li>Logarithmic in the size of the container.</li>
<li>Logarithmic in the size of the container.</li>
</ol>
<h1><a class="anchor" id="autotoc_md962"></a>
Notes</h1>
<p>!!! warning "Return type" </p><pre class="fragment">The value function is a template, and the return type of the function is determined by the type of the provided
default value unless otherwise specified. This can have unexpected effects. In the example below, we store a 64-bit
unsigned integer. We get exactly that value when using [`operator[]`](operator[].md). However, when we call `value`
and provide `#!c 0` as default value, then `#!c -1` is returned. The occurs, because `#!c 0` has type `#!c int`
which overflows when handling the value `#!c 18446744073709551615`.

To address this issue, either provide a correctly typed default value or use the template parameter to specify the
desired return type. Note that this issue occurs even when a value is stored at the provided key, and the default
value is not used as the return value.

```cpp
--8&lt;-- "examples/value__return_type.cpp"
```

Output:

```json
--8&lt;-- "examples/value__return_type.output"
```
</pre> <h1><a class="anchor" id="autotoc_md963"></a>
Examples</h1>
<p>??? example "Example: (1) access specified object element with default value" </p><pre class="fragment">The example below shows how object elements can be queried with a default value.

```cpp
--8&lt;-- "examples/value__object_t_key_type.cpp"
```

Output:

```json
--8&lt;-- "examples/value__object_t_key_type.output"
```
</pre><p> ??? example "Example: (2) access specified object element using string_view with default value" </p><pre class="fragment">The example below shows how object elements can be queried with a default value.

```cpp
--8&lt;-- "examples/value__keytype.c++17.cpp"
```

Output:

```json
--8&lt;-- "examples/value__keytype.c++17.output"
```
</pre><p> ??? example "Example: (3) access specified object element via JSON Pointer with default value" </p><pre class="fragment">The example below shows how object elements can be queried with a default value.

```cpp
--8&lt;-- "examples/value__json_ptr.cpp"
```

Output:

```json
--8&lt;-- "examples/value__json_ptr.output"
```
</pre> <h1><a class="anchor" id="autotoc_md964"></a>
See also</h1>
<ul>
<li>see <a class="el" href="md__2home_2ale_2sparse-matrix_2json_2docs_2mkdocs_2docs_2api_2basic__json_2at.html">`at`</a> for access by reference with range checking</li>
<li>see `operator[]` for unchecked access by reference</li>
</ul>
<h1><a class="anchor" id="autotoc_md965"></a>
Version history</h1>
<ol type="1">
<li>Added in version 1.0.0. Changed parameter <code>default_value</code> type from <code>const ValueType&amp;</code> to <code>ValueType&amp;&amp;</code> in version 3.11.0.</li>
<li>Added in version 3.11.0. Made <code>ValueType</code> the first template parameter in version 3.11.2.</li>
<li>Added in version 2.0.2. </li>
</ol>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
